<!DOCTYPE html>
<html>
<head>    
    <meta charset="utf-8" />

    <style type="text/css">
		
		html, body {
			width:100%;
			height:100%;
			margin:0;
			padding:0;
			background:#fff;
		}
		body {
			font-family:Arial, Helvetica, sans-serif;
		}
		.irritations {
			background: url("images/bg_irritations.jpg") no-repeat fixed center center / cover ;
		}
		.code_example {
			background: url("images/code_example.jpg") no-repeat fixed center center / cover ;
		}
		.jobs {
			background:
url("images/bg_job_abo.jpg") no-repeat fixed 1% 20%,
url("images/bg_job_gua.jpg") no-repeat fixed center 20%,
url("images/bg_job_bod.jpg") no-repeat fixed 99% 20%,
url("images/bg_job_zae.jpg") no-repeat fixed 1% 80%,
url("images/bg_job_sil.jpg") no-repeat fixed center 80%,
url("images/bg_job_vie.jpg") no-repeat fixed 99% 80%;

background-size: 32% auto;

		}
		.other_objects {
			background:
url("http://www.abotsi.com/2/big/4.jpg") no-repeat fixed 1% 20%,
url("http://www.abotsi.com/2/big/12.jpg") no-repeat fixed center 20%,
url("http://www.abotsi.com/2/big/6.jpg") no-repeat fixed 99% 20%,
url("http://www.abotsi.com/2/big/24.jpg") no-repeat fixed 1% 80%,
url("http://www.abotsi.com/2/big/5.jpg") no-repeat fixed center 80%,
url("http://www.abotsi.com/2/big/16.jpg") no-repeat fixed 99% 80%;

background-size: 32% auto;

		}
		.about_me {
			background: url("images/bg_mecolored.jpg") no-repeat fixed center center / cover ;
		}
		.contact {
			background: url("images/bg_contact.jpg") no-repeat fixed center center / cover ;
		}
		#arrow_Canvas {
			left:0;
			top: 0;
			border:0 none;
			display:block;
			position:fixed;
			opacity: 0.9;
		}
		#imageme {
			position:fixed;
			width:100%;
			top:0;
		}
		#switchme {
			position:fixed;
			visibility: visible;
			width:200px;
			max-width:200px;
			line-height:50px;
			  text-align: center;
			  vertical-align: middle;
			  line-height: 50px;
			  color:#fff;
			  font-size:14px;
		  background: #999;
		  border: 0 none;
		  cursor: pointer;
		  display: inline-block;
		}
		#switchme hr {
			border:0 none;
			border-bottom: 1px solid #fff;
			margin: 0;
		}
		#topme {
			visibility:hidden;
			position:absolute;
			top:0;
		}
		#bottomme {
		  background: rgba(0, 0, 0, 0) linear-gradient(180deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.5) 36px);
		  line-height: 50px;
		  min-height: 100px;
		  padding: 0 75px;
		  position: absolute;
		  vertical-align: middle;
		  visibility: visible;
		  width: calc(100% - 150px);
		  bottom:0;
		}
		#scrollme {
			background-color:#0FF;
			position:absolute;
			width:100%;
			top:0;
			visibility:hidden;
		}
		.scrollme_content {
		  background: #999;
		  border: 0 none;
		  cursor: pointer;
		  display: inline-block;
		  height: 50px;
		  position: relative;
		  visibility: visible;
		  width: 100px;
		  text-align: center;
		  vertical-align: middle;
		  line-height: 50px;
		  color:#fff;
		  margin: 100px 50px -50px 50px;
		  font-size:14px;
		}
		#titleme {
			background-color:#999;
			position:fixed;
		  display: inline-block;
		  height: 50px;
		  text-align: center;
		  vertical-align: middle;
		  line-height: 50px;
		  color:#fff;
		  font-size:18px;
		  cursor:pointer;
		}
	</style>  
    <script type="text/javascript">
	
		//	on page load
		
		var canvArrow, cp, resizeId;
		
		var lines_x, lines_y;
		
		var ext_link_text = {
			jobs:['abotsi.com','guarani.gallery','boday-it.ch','zaehringerhof.ch','silviabonafe.com','viernesazul.ch'],
			other_objects:['abotsi.com','abotsi.com','abotsi.com','abotsi.com','abotsi.com','abotsi.com']
		};
		
		function go_top(){
			
			topMe.scrollIntoView({block: "end", behavior: "smooth"});
			
		}
		
		function open_ext(t){
			
			var u = t.innerHTML.slice(6);
			
			if(u.indexOf("google") != -1){
				u = u + '/maps/place/Abotsi+C%C3%A9ramique+Keramikatelier/@46.9735665,7.4743263,15z/data=!4m5!3m4!1s0x0:0x1037fc2174584456!8m2!3d46.9735665!4d7.4743263';
			}
			
			if(u.indexOf("abotsi") != -1){
				u = u + '/?objects';
			}
			
			window.open('http://' + u,'_blank');
			
		}
		
		function page_load() {
		
			//	define
			
			canvArrow = document.getElementById("arrow_Canvas");
			
			titleMe = document.getElementById("titleme");
			
			imageMe = document.getElementById("imageme");
			
			scrollMe = document.getElementById("scrollme");
			
			topMe = document.getElementById("topme");
			
			bottomMe = document.getElementById("bottomme");
			
			chapterLinks = document.getElementsByClassName("scrollme_content");
			
			//	do
		
			canvArrow.addEventListener('click', function(){
														 
				// query switch
				
				if(imageMe.className == 'jobs' || imageMe.className == 'other_objects' || imageMe.className == 'contact'){
					
					chapter.query_switch(imageMe.className);
				
				}else{
				 
					go_top();
				
				};
				 
			}, false);
					
			canvArrow.addEventListener('mouseover', function(){
				chapter.switchme_allow = false;
				//console.log('mememe');
			}, false);
		
			titleMe.addEventListener('click', go_top, false);
			
			for(var k in chapter.text){
			
				var s = document.createElement('span');
			
				s.className = 'scrollme_content';
				
				s.innerHTML = k;
				
				s.addEventListener('click', function(){
					 chapter.show(this);
				}, false);
				
				scrollMe.appendChild(s);
			
			}
			
			resizeCanvas();
			
			go_top();
		
		}
		
		var chapter = {
			
			text: {
				
					irritations: "Code zu schreiben ist eine sehr spannende Beschäftigung. Man bewegt sich auf weiten Strecken durch eine Welt die einzig in der Vorstellung existiert. Recht schnell kann man grossartige Funktionen entwickeln und erstaunliche Effekte auf den Bildschirm zaubern oder aber sich in einem Gewirr von Unmöglichkeiten und stechenden Zuständen widerfinden. So schwer fassbar diese Tätigkeit ist, so präzise und zwingend sind die Regel welche sie bestimmen.<br/>Weil Computer im Gegensatz zu uns Menschen kein Problem haben sich zu organisieren stehen wir ihnen gegenüber in der Schuld uns diesem Level an Organisation anzupassen. Sprich, eine der grössten Herausforderungen besteht darin den Code übersichtlich zu halten und während des schreibens nicht zu vergessen an welcher Stelle eines Ablaufs wir uns befinden. Trotzdem gilt es der Phantasie weiter freien Lauf zu lassen und sich bewusst zu sein das im Prinzip wir die Götter des Skripts sind und grundsätzlich alles möglich ist.<br/>Javascript, offiziell nur eine Skript- und keine Programmiersprache, erfüllt alle Bedingungen die ein Einstieg in die Programmierung erfordert und ist durch ihre weite Verbreitung überall Verfügbar und zur genüge dokumentiert. Diese Sprache, als Jux auch Vanilla JS genannt besticht durch zwei Merkmale: sie ist mit dem Webbrowser verheiratet und sie ist gröstenteils frei von proprietären Rechten, gehört also dem der gerade eine Code-Zeile schreibt.<br/><br/>Nun, genug Philosophie. Das schöne an Javascript sind die Objekte, ihre relativ einfache Handhabung und die unendlichen Möglichkeiten welche sich daraus ergeben. In der Praxis, beim erstellen oder umbauen von Webseiten, eignet sich Javascript da beinahe jede gewünschte Funktion und jedes Design ausgegeben werden können.<br/><br/>Beside my interests for programming i like real live stuff like for example botanics. This brought me as visible on the background image, to the botanic garden at Lisbon. Very nice, mostly because of his appearance to be some how timed out and abondoned.",
				
					code_example: "Here is an example of code i have written. On the left side a part of the javascript who controlls this canvas annimation. On the right hand the css for this webpage. View more details about it at <a href='https://github.com/botsi/botsi_first' target='_blank' >GitHub</a>.",
					
					jobs: "Some webpages i have developped. Click the images to acces the sites.",
					
					other_objects: "It is a great personal pleasure to introduce also my Ceramic Work to you. I am a professional Potter and maintain a Atelier in Ittigen near Berne since 1995. Click the images to visit <a href='http://abotsi.com/' target='_blank' >abotsi.com</a>.",
					
					about_me: "As a big lover of music i go frequently to festivals as the Montreux Jazz and other. Live is hard, but the nights are long. Salsa and other latin Music are my favorites if i had to choose witch sounds i take along with me to the lonley island. Read more about me in my <a href='../cv.pdf' target='_blank' >curriculum vitae</a>.",
					
					contact: "David Abotsi&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;Untereyfeldweg 7&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;3063 Ittigen Berne&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;Switzerland&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;+41 31 921 24 52&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;<a href='mailto:david@abotsi.com'>david@abotsi.com</a>"
					
					},
			
			old_c: '',
			
			show: function(t){
				
				if(this.old_c != ''){imageMe.classList.remove(this.old_c);}
				
				var cl = t.innerHTML;
				
				imageMe.classList.add(cl);
				
				bottomMe.innerHTML = this.text[cl];
				
				bottomMe.scrollIntoView({block: "start", behavior: "smooth"});
				
				this.old_c = cl;
			
			},
			
			switchme_op: 1,
			
			switchme_allow: false,
			
			query_switch: function(sh,p){
				
				if(sh != 0){
							
					if(document.getElementById('switchme')){
					
						scrollMe.removeChild(document.getElementById('switchme'));
					
					}
					
					var ih = 'go to ';
							
					if(sh == 'contact'){
					
						ih = ih + 'maps.google.com';
					
					}
							
					if(sh == 'jobs' || sh == 'other_objects'){
						
						var sheetpos = 0;
							
						if(dlg.wh_store[1] < canvArrow.height / 2){
	
							if(dlg.wh_store[0] > canvArrow.width * 0.33 && dlg.wh_store[0] < canvArrow.width * 0.66) {
								
								sheetpos = 1;
								
							}else{
	
								if(dlg.wh_store[0] <= canvArrow.width * 0.33) {
									
									sheetpos = 0;
									
								}else{
									
									sheetpos = 2;
									
								}
							
							}
							
						}else{
	
							if(dlg.wh_store[0] > canvArrow.width * 0.33 && dlg.wh_store[0] < canvArrow.width * 0.66) {
								
								sheetpos = 4;
								
							}else{
	
								if(dlg.wh_store[0] <= canvArrow.width * 0.33) {
									
									sheetpos = 3;
									
								}else{
									
									sheetpos = 5;
									
								}
							
							}
							
						}

						ih = ih + ext_link_text[sh][sheetpos];
					
					}
					
					var d = document.createElement('div');
				
					d.id = 'switchme';
					
					d.innerHTML = '<span onclick="chapter.query_switch(0);open_ext(this)">' + ih + '</span><hr/>or <span onclick="chapter.query_switch(0);go_top();">back to main menu</span>';
					
					scrollMe.appendChild(d);
					
					chapter.switchme_allow = true;
				
					d.style.left = dlg.wh_store[0] - 100 + 'px';
				
					d.style.top = dlg.wh_store[1] - 50 + 'px';
				
				}else{
					
						scrollMe.removeChild(document.getElementById('switchme'));
					
				}

				
				
			}
			
		};
		
		var dlg = {
		
			draw_all: function(w,h){
				
				dlg.wh_store = [w,h];
							
					if(document.getElementById('switchme') && chapter.switchme_allow == false){
					
						chapter.switchme_op -= 0.01;
						
						if(chapter.switchme_op <= 0){
					
							scrollMe.removeChild(document.getElementById('switchme'));
							
							chapter.switchme_op = 1;
							
							chapter.switchme_allow = false;
					
						}else{
						
							document.getElementById('switchme').style.opacity = chapter.switchme_op;
							
						}
					
					}


				var ctx = canvArrow.getContext("2d");
					
				ctx.clearRect(0, 0, canvArrow.width, canvArrow.height);
		
				this.draw_center_x(w,h,ctx);
						
			},
			
			draw_center_x: function(w,h,ctx){
				
				ctx.globalCompositeOperation='source-over';
			
				ctx.beginPath();
				
				ctx.fillStyle = "#fff";
		
				var hh = parseInt((w-1-this.indent_x) / 50);

					var x_shift = lines_x[hh];
						
					var c = this.giveMeC(x_shift,w,canvArrow.width);

					//	start
					
					ctx.moveTo(x_shift, 0);
					
					//	runter
						
					ctx.lineTo(x_shift, h - this.dw_param[2]);
				
					ctx.bezierCurveTo(
											x_shift, h - this.dw_param[1], 
											x_shift + c, h - this.dw_param[0], 
											x_shift + c, h
										);
				
					ctx.bezierCurveTo(
											x_shift + c, h + this.dw_param[0], 
											x_shift, h + this.dw_param[1], 
											x_shift, h + this.dw_param[2]
										);
				
					ctx.lineTo(x_shift, canvArrow.height);
					
					ctx.lineTo(x_shift + 50, canvArrow.height);
					
					// rauf 

					x_shift = lines_x[hh+1];
						
					c = this.giveMeC(x_shift,w,canvArrow.width);
					
					ctx.lineTo(x_shift, h + this.dw_param[2]);
					
					ctx.bezierCurveTo(
											x_shift, h + this.dw_param[1], 
											x_shift + c, h + this.dw_param[0], 
											x_shift + c, h
										);
					ctx.bezierCurveTo(
											x_shift + c, h - this.dw_param[0], 
											x_shift, h - this.dw_param[1], 
											x_shift, h - this.dw_param[2]
										);
					
					ctx.lineTo(x_shift, 0);
					
					ctx.lineTo(x_shift - 50, 0);
					
				ctx.fill();
		
				ctx.closePath();
				
				
				this.draw_center_y(w,h,ctx);
						
			},
			
			draw_center_y: function(w,h,ctx){
				
				ctx.globalCompositeOperation='destination-in';
				
				ctx.beginPath();
				
				ctx.fillStyle = "#fff";
		
				var hh = parseInt((h-1-this.indent_y) / 50);
		

					var y_shift = lines_y[hh];
						
					var c = this.giveMeC(y_shift,h,canvArrow.height);

					//	start
					
					ctx.moveTo(0, y_shift);
					
					//	runter
						
					ctx.lineTo(w - this.dw_param[2], y_shift);
				
					ctx.bezierCurveTo(
											w - this.dw_param[1], y_shift, 
											w - this.dw_param[0], y_shift + c, 
											w, y_shift + c
										);
				
					ctx.bezierCurveTo(
											w + this.dw_param[0], y_shift + c,
											w + this.dw_param[1], y_shift, 
											w + this.dw_param[2], y_shift
										);
				
					ctx.lineTo(canvArrow.width, y_shift);
					
					ctx.lineTo(canvArrow.width, y_shift + 50);
					
					// rauf 

					y_shift = lines_y[hh+1];
						
					c = this.giveMeC(y_shift,h,canvArrow.height);
					
					ctx.lineTo(w + this.dw_param[2], y_shift);
					
					ctx.bezierCurveTo(
											w + this.dw_param[1], y_shift, 
											w + this.dw_param[0], y_shift + c, 
											w, y_shift + c
										);
					ctx.bezierCurveTo(
											w - this.dw_param[0], y_shift + c, 
											w - this.dw_param[1], y_shift, 
											w - this.dw_param[2], y_shift
										);
					
					ctx.lineTo(0, y_shift);
					
					ctx.lineTo(0, y_shift - 50);
					
				ctx.fill();
				ctx.closePath();
				
				ctx.globalCompositeOperation='xor';
			
				ctx.beginPath();
		
				ctx.fillStyle = "#fff";
				ctx.fillRect(0, 0, canvArrow.width, canvArrow.height);
				ctx.closePath();
				
				ctx.globalCompositeOperation='source-over';
				
				this.draw_lines_x(w,h,ctx);
						
			},
			
			draw_lines_x: function(w,h,ctx){
				
				ctx.beginPath();
		
				ctx.lineWidth = 1;
				ctx.strokeStyle = '#999';
		
					for(var i = 0; i < lines_x.length; i++){
						
						var x_shift = lines_x[i];
						
						var c = 0;
						if(x_shift < w + cp * 0.5 && x_shift > w - cp * 0.5){
							c = this.giveMeC(x_shift,w,canvArrow.width);
						}
						
						ctx.moveTo(x_shift, 0);
						
							ctx.lineTo(x_shift, h - this.dw_param[2]);
						
							ctx.bezierCurveTo(
													x_shift, h - this.dw_param[1], 
													x_shift + c, h - this.dw_param[0], 
													x_shift + c, h
												);
						
							ctx.bezierCurveTo(
													x_shift + c, h + this.dw_param[0], 
													x_shift, h + this.dw_param[1], 
													x_shift, h + this.dw_param[2]
												);
					
						ctx.lineTo(x_shift, canvArrow.height);
						
					}
					
				ctx.stroke();
				ctx.closePath();
					
				
				this.draw_lines_y(w,h,ctx);
						
			},
			
			draw_lines_y: function(w,h,ctx){
				
				ctx.beginPath();
		
				for(var i = 0; i < lines_y.length; i++){
					
					var y_shift = lines_y[i];
					
					var c = 0;
					
					if(y_shift < h + cp * 0.5 && y_shift > h - cp * 0.5){
						c = this.giveMeC(y_shift,h,canvArrow.height);
					}
					
					ctx.moveTo(0, y_shift);
					
						ctx.lineTo(w - this.dw_param[2], y_shift);
					
						ctx.bezierCurveTo(
												w - this.dw_param[1], y_shift, 
												w - this.dw_param[0], y_shift + c, 
												w, y_shift + c
											);
					
						ctx.bezierCurveTo(
												w + this.dw_param[0], y_shift + c, 
												w + this.dw_param[1], y_shift, 
												w + this.dw_param[2], y_shift
											);
				
					ctx.lineTo(canvArrow.width, y_shift);
					
				}
					
				ctx.stroke();
				ctx.closePath();
			},
			
			
			wh_store: [0,0],
			
			dw_param: [200,300,500],
			
			spherize: 3,
			
			
			giveMeC: function(s,p,o){
					
				var diff = p - s;
				
				if(diff > 0){
					return (diff - cp * 0.5) / dlg.spherize;
				}
					
				return (diff + cp * 0.5) / dlg.spherize;
				
			},
			
			eye_scroll: function(p){
						
					canvArrow.style.cursor = (p > 20) ? 'default' : 'pointer';
				
					if(p < 3){
						
						p = 3;
						
						}
				
					if(p > 300){
						
						p = 300;
						
						}
					
					dlg.spherize = p;
											  
					dlg.draw_all(dlg.wh_store[0], dlg.wh_store[1]);
			
			}
			
		};
		
		document.addEventListener('DOMContentLoaded', page_load, false);
		
		window.addEventListener('mousemove', function(e){
			dlg.draw_all(e.clientX,e.clientY);
		}, false);
		
		window.addEventListener('scroll', function(e){
			dlg.eye_scroll(300 - window.pageYOffset);
		}, false);
		
		
		
		window.addEventListener('resize', pre_resizeCanvas, false);
		
		
				
		function pre_resizeCanvas() {
		
			clearTimeout(resizeId);
				
			resizeId = setTimeout(function(){
										   
				resizeCanvas();
			
			}, 200);
			
		}
							  
		
				
				
		function resizeCanvas() {
				
				lines_x = [];
				lines_y = [];
			
				canvArrow.width = window.innerWidth;
				canvArrow.height = window.innerHeight;
				
				dlg.indent_x = parseInt((canvArrow.width % 50) / 2);
				dlg.indent_y = parseInt((canvArrow.height % 50) / 2);
				
				for(var i = dlg.indent_x; i < canvArrow.width; i+=50){
					lines_x.push(i);
				}
				
				for(var i = dlg.indent_y; i < canvArrow.height; i+=50){
					lines_y.push(i);
				}
				
				cp = (canvArrow.width + canvArrow.height) / 2;
				
				dlg.dw_param = [cp * 0.14,cp * 0.18,cp * 0.32];
				
				dlg.spherize = cp;
				
				scrollMe.style.height = imageMe.style.height = window.innerHeight + 300 + 'px';
				
				titleMe.style.margin = '0 ' + parseInt(50 + dlg.indent_x) + 'px';
				
				titleMe.style.top = parseInt(100 + dlg.indent_y) + 'px';
				
				titleMe.style.width = parseInt(canvArrow.width - 100 - dlg.indent_x * 2) + 'px';
		
				for(var i = 0; i < chapterLinks.length; i++){
					
					chapterLinks[i].style.top = titleMe.style.top;
					
					if(i > 0){
						
						if(chapterLinks[i-1].getBoundingClientRect().top < chapterLinks[i].getBoundingClientRect().top){
					
							chapterLinks[i].style.marginLeft = parseInt(50 + dlg.indent_x) + 'px';
						
						}else{
					
							chapterLinks[i].style.marginLeft = 50 + 'px';
						
						}
					
					}
					
				}
				
				chapterLinks[0].style.marginLeft = parseInt(50 + dlg.indent_x) + 'px';
				
				dlg.draw_all(canvArrow.width * 0.5, canvArrow.height * 0.5);
		
		}
				
	</script>

<head> 
   
<body>
    <div id="imageme">
    </div>
    <canvas id="arrow_Canvas"></canvas>
    <div id="scrollme">
        <div id="topme"></div>
        <div id="bottomme"></div>
    </div>
    <div id="titleme">
        david abotsi&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;vanilla javascript programming
    </div>
</body>
</html>
